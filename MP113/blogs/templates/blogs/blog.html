{% extends "blogs/base.html" %}

{% block content %}
    <h2>{{ blog.title }}</h2>
    <p class="text-right blog-owner">{{ blog.owner.username }}</p>

    {% for post in blog_posts %}
        <div class="card">
            <header>
                <h3>
                    <a href="{% url 'blogs:post' post.id %}">{{ post.title }}</a>
                </h3>
            </header>
            <p>{{ post.date_added|date:"DATE_FORMAT" }}</p>
            <p>{{ post.body|truncatewords:10 }}</p>
        </div>
    
    {% empty %}
    <h3>No Blog Posts found for the blog {{ blog.title }}.</h3>
    {% endfor %}

    {% if blog.owner == request.user %}
        <a class="button primary" href="{% url 'blogs:new_blog_post' blog.id %}">New Blog Post</a>
    {% endif %}
{% endblock content %}